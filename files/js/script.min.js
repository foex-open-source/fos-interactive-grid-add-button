window.FOS=window.FOS||{},window.FOS.interactiveGrid=FOS.interactiveGrid||{},FOS.interactiveGrid.addButton=function(e,t){apex.debug.info("FOS - Interactive Grid - Add Button",t);var o=e.affectedElements[0].id,n="#"+o,a=apex.region(o);if(!a||"InteractiveGrid"==!a.type)throw new Error("The specified element is not an Interactive Grid");var i=a.call("getActions"),r=t.addToToolbar,c=t.toolbarGroupId,l=t.addToMenu,d=t.menuId,s=t.addAtIndex,u=t.label,p=t.icon,m=t.isHot,f=t.primaryKeyItem,g=t.conditionColumn,v=t.eventName,w=t.callback,b=t.actionName||"fos-ig-button-"+setTimeout(new Function),y={type:"action",name:b,label:u,icon:p,iconType:"fa"};if(l&&["row-actions","selection-actions"].indexOf(d)>-1){var h=a.call("getViews","grid"),x=h.model;"row-actions"==d?y.action=function(e,t){var o=h.getContextRecord(t)[0];f&&apex.item(f).setValue(x.getRecordId(o));var i={event:e,focusElement:t,region:a,model:x,record:o};v&&apex.event.trigger(n,v,i),w&&w.call({data:i})}:"selection-actions"==d&&(y.action=function(e,t){var o=a.call("getSelectedRecords"),i={event:e,focusElement:t,region:a,model:x,selectedRecords:o};if(f){var r=o.map((function(e){return x.getRecordId(e)}));apex.item(f).setValue(JSON.stringify(r))}v&&apex.event.trigger(n,v,i),w&&w.call({data:i})})}else v?y.action=function(e,t){var o=a.call("getCurrentView").model;apex.event.trigger(n,v,{data:{event:e,focusElement:t,region:a,model:o}})}:w&&(y.action=function(e,t){var o=a.call("getCurrentView").model;w.call({data:{event:e,focusElement:t,region:a,model:o}})});if(i.lookup(b)||i.add(y),l){var O,S,T;"row-actions"==d?S=(O=h.rowActionMenu$).menu("option","items"):"selection-actions"==d?S=(O=h.selActionMenu$).menu("option","items"):"actions"==d&&(S=(T=a.call("getToolbar").toolbar("find","actions_button").menu).items),(s<0||s>S.length)&&(s=S.length);var I=[{type:"action",action:b}];t.addSeparatorBefore&&S[s-1]&&"separator"!=S[s-1].type&&I.unshift({type:"separator"}),t.addSeparatorAfter&&S[s]&&"separator"!=S[s].type&&I.push({type:"separator"}),S=S.slice(0,s).concat(I).concat(S.slice(s)),O?O.menu("option","items",S):T&&(T.items=S)}else if(r){var G=a.call("getToolbar"),A=G.toolbar("option","data"),F=G.toolbar("findGroup",c).controls;(s<0||s>F.length)&&(s=F.length),F.splice(s,0,{type:"BUTTON",action:b,hot:m,iconOnly:!u,iconBeforeLabel:!0,icon:p?"fa "+p:""}),G.toolbar("option","data",A)}l&&"row-actions"==d&&g&&h.rowActionMenu$.on("menubeforeopen",(function(e,t){var o=a.call("getViews","grid"),n=o.model,r=o.getContextRecord(o.view$.find(".js-menuButton.is-active"))[0],c=n.getValue(r,g.toUpperCase());i.show(b),i.enable(b),"hidden"==c&&i.hide(b),"disabled"==c&&i.disable(b)}))};
//# sourceMappingURL=script.js.map

